% ===== CHATPTER 7 =====
\chapter{量子力学理论}
\label{chap:7}
\section{符号}
\label{sec:7.1 Notation}
    单电子原子的薛定谔方程（第\ref{chap:6}章）是可以精确求解的。然而，由于哈密顿算符中的电子间斥力项，多电子原子和分子的薛定谔方程无法精确求解。因此，我们必须寻求近似的求解方法。第 \ref{chap:8} 章和第 \ref{chap:9} 章将介绍两种主要的近似方法，即变分法和微扰理论。要推导出这些方法，我们必须进一步发展量子力学理论，这就是本章所要做的。

    在开始之前，我们先介绍一些符号。夹在两个函数之间的算符在全空间上的定积分经常出现，并使用各种缩写：
    \begin{equation}
        \int f^{\ast}_m\hat{A}f_n\mathrm{d}\tau \equiv \left\langle f_m \middle| \hat{A} \middle| f_n \right\rangle \equiv \left\langle m \middle| \hat{A} \middle| n \right\rangle
        \label{eq:7.1}
    \end{equation}
    其中$f_m$和$f_n$是两个函数。如式(\ref{eq:7.1})所示，若两个函数的含义是明确的，我们就可以只用下标来区分。狄拉克引入的上述符号称为\textbf{括号符号}（bracket notation）（此处为直译，多用狄拉克符号，下同）。另一种符号是
    \begin{equation}
        \int f^{\ast}_m\hat{A}f_n\mathrm{d}\tau \equiv A_{mn}
        \label{eq:7.2}
    \end{equation}
    符号$A_{mn}$和$\left\langle m \middle| \hat{A} \middle| n \right\rangle$都表示我们使用字母在前的复函数的复共轭。定积分$\left\langle m \middle| \hat{A} \middle| n \right\rangle$称为算符$\hat{A}$的一个\textbf{矩阵元}（matrix element）。矩阵是数字的矩形数组，遵守一定的组合规则（见第 \ref{sec:7.10 Matrices} 节）。

    我们将对两个函数全空间的定积分写作
    \begin{equation}
        \int f^{\ast}_m f_n \mathrm{d}\tau \equiv \left\langle f_m \middle| f_n \right\rangle \equiv \left\langle m \middle| n \right\rangle
        \label{eq:7.3}
    \end{equation}
    注意：
    \begin{equation*}
        \left\langle f \middle| \hat{B} \middle| g \right\rangle = \left\langle f \middle| \hat{B} g \right\rangle
    \end{equation*}
    其中$f$和$g$是函数。由于$\left(\int f^{\ast}_mf_n\mathrm{d}\tau\right)^{\ast} = \int f^{\ast}_nf_m\mathrm{d}\tau$，我们可以得到
    \begin{equation}
        \boxed{
            \left\langle m \middle| n \right\rangle^{\ast} = \left\langle n \middle| m \right\rangle
        }
        \label{eq:7.4}
    \end{equation}
    由于取了 (\ref{eq:7.1}) 中 $f_m$ 的复共轭，因此可以得出
    \begin{equation}
        \boxed{
            \left\langle cf \middle| \hat{B} \middle| g \right\rangle = c^{\ast} \left\langle f \middle| \hat{B} \middle| g \right\rangle \quad \text{和} \quad \left\langle f \middle| \hat{B} \middle| cg \right\rangle = c \left\langle f \middle| \hat{B} \middle| g \right\rangle
        }
        \label{eq:7.5}
    \end{equation}
    其中$\hat{B}$是线性算符，$c$是常数。

\section{厄米算符}
\label{sec:7.2 Hermitian Operators}
    代表物理量的量子力学算符都是线性算符（第\ref{sec:3.1 Operators}节）。这些算符必须满足一个额外的要求，我们现在就来讨论这个问题。

\subsection*{厄米算符的定义}

    设$\hat{A}$是对应某个物理量$A$的线性算符。则$A$的平均期望为[式(\ref{eq:3.88})]
    \begin{equation*}
        \left\langle A \right\rangle = \int \Psi^{\ast} \hat{A} \Psi \mathrm{d}\tau
    \end{equation*}
    其中$\Psi$是系统的态函数。由于物理量的平均值一定是一个实数，我们要求
    \begin{equation*}
        \left\langle A \right\rangle = \left\langle A \right\rangle^{\ast}
    \end{equation*}
    \begin{equation*}
        \int \Psi^{\ast} \hat{A} \Psi \mathrm{d}\tau = \left[\int \Psi^{\ast}\hat{A}\Psi\mathrm{d}\tau\right] = \int \left(\Psi^{\ast}\right)^{\ast} \left(\hat{A}\Psi\right)^{\ast}\mathrm{d}\tau
    \end{equation*}
    \begin{equation}
        \int \Psi^{\ast} \hat{A} \Psi \mathrm{d}\tau = \int \Psi  \left(\hat{A}\Psi\right)^{\ast} \mathrm{d}\tau
        \label{eq:7.6}
    \end{equation}
    式(\ref{eq:7.6})必须对每个代表系统可能状态的波函数$\Psi$都成立，也就是说，所有品优函数$\Psi$都必须满足式(\ref{eq:7.6})。对所有品优函数都满足式(\ref{eq:7.6})的算符称为\textbf{厄米算符}（Hermitian operator）（由数学家厄米的名字命名——Charles Hermite）。

    许多教科书将厄米算符定义为对所有品优函数$f$和$g$都满足下式的线性算符：
    \begin{equation}
        \int f^{\ast} \hat{A} g \:\mathrm{d}\tau = \int g \:\left(\hat{A} f\right)^{\ast} \mathrm{d}\tau
        \label{eq:7.7}
    \end{equation}
    注意：在(\ref{eq:7.7})的左侧，算符$\hat{A}$作用在函数$g$上；而在右侧，算符$\hat{A}$作用在函数$f$上。对于特例$f=g$，式(\ref{eq:7.7})退化为式(\ref{eq:7.6})。等式 (\ref{eq:7.7}) 显然是比 (\ref{eq:7.6}) 更强的要求，但我们将证明 (\ref{eq:7.7}) 是 (\ref{eq:7.6}) 的结果。因此，两种厄米算符的定义是等价的。

    我们首先在 (\ref{eq:7.6}) 中令 $ \Psi = f+cg$ ，其中 $c$ 是一个任意常数。则
    \begin{equation*}
        \int \left(f+cg\right)^{\ast}\hat{A}\left(f+cg\right)\mathrm{d}\tau = \int \left(f+cg\right)\left[\hat{A}\left(f+cg\right)\right]^{\ast}\mathrm{d}\tau
    \end{equation*}
    \begin{equation*}
        \begin{aligned}
            \int \left(f^{\ast}+c^{\ast}g^{\ast}\right)\hat{A}f\mathrm{d}\tau + \int \left(f^{\ast} +c^{\ast}g^{\ast} \right)&\hat{A}cg \:\mathrm{d}\tau \\
            & = \int \left(f+c g\right)\left(\hat{A}f\right)^{\ast} \mathrm{d}\tau + \int \left(f+c g\right)\left(\hat{A}cg\right)^{\ast} \mathrm{d}\tau
        \end{aligned}
    \end{equation*}
    \begin{equation*}
        \begin{aligned}
            \int f^{\ast} \hat{A} f \:\mathrm{d}\tau + & c^{\ast} \int g^{\ast} \hat{A} f \:\mathrm{d}\tau + c \int f^{\ast} \hat{A} g \:\mathrm{d}\tau + c^{\ast}c \int g^{\ast} \hat{A} g \:\mathrm{d}\tau  \\
            & =\int f \left(\hat{A}f\right)^{\ast} \mathrm{d}\tau + c \int g \left(\hat{A}f\right)^{\ast} \mathrm{d}\tau + c^{\ast} \int f \left(\hat{A}g\right)^{\ast} \mathrm{d}\tau + cc^{\ast}\int g \left(\hat{A}g\right)^{\ast} \mathrm{d}\tau
        \end{aligned}
    \end{equation*}
    根据 (\ref{eq:7.6})，最后一个等式两边的首项相等；同样，两边的尾项也相等。因此，
    \begin{equation}
        c^{\ast} \int g^{\ast} \hat{A} f \:\mathrm{d}\tau + c \int f^{\ast} \hat{A} g \:\mathrm{d}\tau = c \int g \left(\hat{A}f\right)^{\ast} \mathrm{d}\tau + c^{\ast} \int f \left(\hat{A}g\right)^{\ast} \mathrm{d}\tau
        \label{eq:7.8}
    \end{equation}
    在(\ref{eq:7.8})中令$c=1$，我们有
    \begin{equation}
        \int g^{\ast} \hat{A} f \:\mathrm{d}\tau + \int f^{\ast} \hat{A} g \:\mathrm{d}\tau = \int g \left(\hat{A}f\right)^{\ast} \mathrm{d}\tau + \int f \left(\hat{A}g\right)^{\ast} \mathrm{d}\tau
        \label{eq:7.9}
    \end{equation}
    在(\ref{eq:7.8})中令$c = \mathrm{i}$，两边同除以$\mathrm{i}$，我们有
    \begin{equation}
        - \int g^{\ast} \hat{A} f \:\mathrm{d}\tau + \int f^{\ast} \hat{A} g \:\mathrm{d}\tau = \int g \left(\hat{A}f\right)^{\ast} \mathrm{d}\tau - \int f \left(\hat{A}g\right)^{\ast} \mathrm{d}\tau
        \label{eq:7.10}
    \end{equation}
    将(\ref{eq:7.9})和(\ref{eq:7.10})相加，我们得到了(\ref{eq:7.7})。结论得到了证明。

    因此，\textit{厄米算符$\hat{A}$定义为满足如下条件的线性算符：}
    \begin{equation}
        \boxed{
            \int f^{\ast}_m \hat{A} f_n \:\mathrm{d}\tau = \int f_n \left(\hat{A} f_m\right)^{\ast} \mathrm{d}\tau
        }
        \label{eq:7.11}
    \end{equation}
    \textit{其中$f_m$和$f_n$是任意的品优函数，积分为对全空间的定积分。}使用狄拉克符号和矩阵元符号，我们将其记作
    \begin{equation}
        \boxed{
            \left\langle f_m \middle| \hat{A} \middle| f_n \right\rangle = \left\langle f_n \middle| \hat{A} \middle| f_m \right\rangle^{\ast}
        }
        \label{eq:7.12}
    \end{equation}
    \begin{equation}
        \boxed{
            \left\langle m \middle| \hat{A} \middle| n \right\rangle = \left\langle n \middle| \hat{A} \middle| m \right\rangle^{\ast}
        }
        \label{eq:7.13}
    \end{equation}
    \begin{equation}
        \boxed{
            A_{mn} = \left(A_{nm}\right)^{\ast}
        }
        \label{eq:7.14}
    \end{equation}
    (\ref{eq:7.12}) 的两边不同之处在于交换了函数并取了复共轭。

\subsection*{厄米算符的例子}

    让我们证明，我们一直在使用的一些算符确实是厄米的。简单起见，我们将从一个维度进行研究。要证明一个算符是厄米的，只需证明它对所有品优函数都满足式（\ref{eq:7.6}）即可。不过，我们将通过证明满足 (\ref{eq:7.11}) 来增加一点难度。

    首先，来考虑单粒子一维势能算符。式(\ref{eq:7.11})的右侧为
    \begin{equation}
        \int_{-\infty}^{\infty} f_n\left(x\right)\left[V\left(x\right)f_m\left(x\right)\right]^{\ast} \mathrm{d}x
        \label{eq:7.15}
    \end{equation}
    由于势能是实函数，我们有$V^{\ast} = V$。此外，式(\ref{eq:7.15})中因子的顺序无关紧要。因此，
    \begin{equation*}
        \int_{-\infty}^{\infty} f_n\left(Vf_m\right)^{\ast} \mathrm{d}x = \int_{-\infty}^{\infty} f_n V^{\ast} f^{\ast}_m \mathrm{d}x = \int_{-\infty}^{\infty} f_m^{\ast} V f_n \mathrm{d}x
    \end{equation*}
    这就证明了$V$是厄米的。

    再考虑动量在$x$方向分量的算符$\hat{p}_x = -\mathrm{i}\hbar \: \mathrm{d}/\mathrm{d}x$[式(\ref{eq:3.23})]。对于这个算符，式(\ref{eq:7.11})的左侧为
    \begin{equation*}
        -\mathrm{i}\hbar \int_{-\infty}^{\infty} f_m^{\ast}\left(x\right)\frac{\mathrm{d}f_n\left(x\right)}{\mathrm{d}x} \mathrm{d}x
    \end{equation*}
    现在我们使用分部积分法：
    \begin{equation}
        \int_{a}^{b}u\left(x\right)\frac{\mathrm{d}v\left(x\right)}{\mathrm{d}x}\mathrm{d}x = \left. u\left(x\right)v\left(x\right)\right|_{a}^{b} - \int_{a}^{b}v\left(x\right)\frac{\mathrm{d}u\left(x\right)}{\mathrm{d}x}\mathrm{d}x
        \label{eq:7.16}
    \end{equation}
    令
    \begin{equation*}
        u\left(x\right) \equiv -\mathrm{i}\hbar f_m^{\ast}\left(x\right), \quad v\left(x\right) \equiv f_n\left(x\right)
    \end{equation*}
    那么
    \begin{equation}
        -\mathrm{i}\hbar f_m^{\ast}\frac{\mathrm{d}f_n}{\mathrm{d}x}\mathrm{d}x = \left. -\mathrm{i}\hbar f_m^{\ast}f_n\right|_{-\infty}^{\infty} + \mathrm{i}\hbar \int_{-\infty}^{\infty} f_n\left(x\right)\frac{\mathrm{d}f_m^{\ast}\left(x\right)}{\mathrm{d}x}\mathrm{d}x
        \label{eq:7.17}
    \end{equation}
    由于$f_m$和$f_n$是品优函数，因此在无穷远处它们的值为（如果它们在无穷远处不为零，则不符合平方可积的要求）。于是，(\ref{eq:7.17})变为
    \begin{equation*}
        \int_{-\infty}^{\infty} f_m^{\ast}\left(-\mathrm{i}\hbar \frac{\mathrm{d}f_n}{\mathrm{d}x}\right)\mathrm{d}x = \int_{-\infty}^{\infty} f_n\left(-\mathrm{i}\hbar \frac{\mathrm{d}f_m}{\mathrm{d}x}\right)^{\ast}\mathrm{d}x
    \end{equation*}
    与(\ref{eq:7.11})一致，证明了$\hat{p}_x$是厄米的。证明动能算符是厄米的留给读者自行考虑。可以证明，两个厄米算符的和也是厄米的。因此，哈密顿算符$\hat{H} = \hat{T} + \hat{V}$也是厄米的。

\subsection*{厄米算符定理}

    现在我们证明一些有关厄米算符的本征值和本征函数的重要定理。

    由于与物理量 $A$ 相对应的算符 $\hat{A}$ 的本征值是测量 $A$ 的可能结果（第 \ref{sec:3.3 Operators and Quantum Mechanics} 节），因此这些特征值都应该是实数。我们现在证明厄米算符的本征值是实数。

    我们现在知道$\hat{A}$是厄米算符。将这个条件转换为方程，对于所有品优函数$f_m$和$f_n$，我们有[式(\ref{eq:7.11})]
    \begin{equation}
        \int f^{\ast}_m \hat{A} f_n \:\mathrm{d}\tau = \int f_n \left(\hat{A} f_m\right)^{\ast} \mathrm{d}\tau
        \label{eq:7.18}
    \end{equation}
    我们希望证明$\hat{A}$的每个本征值都是实数。将其转换为方程，我们希望证明$a_i = a_i^{\ast}$，其中本征值$a_i$满足$\hat{A}g_i = a_i g_i$，其中$g_i$是$\hat{A}$的本征函数。

    为了将本征值$a_i$引入式(\ref{eq:7.18})，我们将(\ref{eq:7.18})写成一个特例，其中$f_m = g_i$和$f_n = g_i$：
    \begin{equation*}
        \int g_i^{\ast} \hat{A} g_i \:\mathrm{d}\tau = \int g_i \left(\hat{A} g_i\right)^{\ast} \mathrm{d}\tau
    \end{equation*}
    使用$\hat{A} g_i = a_i g_i$，我们有
    \begin{equation*}
        a_i \int g_i^{\ast} g_i \:\mathrm{d}\tau = \int g_i \left(a_i g_i\right)^{\ast} \mathrm{d}\tau = a_i^{\ast} \int g_i g_i^{\ast} \:\mathrm{d}\tau
    \end{equation*}
    \begin{equation}
        \left(a_i - a_i^{\ast}\right) \int \left|g_i\right|^2 \:\mathrm{d}\tau = 0
        \label{eq:7.19}
    \end{equation}
    由于对$\left|g_i\right|^2$的积分永远不会为负，因此 (\ref{eq:7.19}) 中积分为零的唯一可能情况是 $g_i$ 在所有坐标值下都为零。然而，基于物理原因，我们总是拒绝将 $g_i=0$ 作为本征函数。因此，式(\ref{eq:7.19})中的积分不能为零。那么只有$\left(a_i - a_i^{\ast}\right) = 0$，即$a_i = a_i^{\ast}$。得证。

    \begin{center}
        \parbox{0.8\textwidth}{
            \centering 
            \textbf{定理1：} 厄米算符的本征值为实数。
        }
    \end{center}

    为了帮助读者熟悉狄拉克符号，我们将使用狄拉克符号重新证明定理1。在式(\ref{eq:7.13})中，令$m=i$以及$n=i$，我们得到了$\left\langle i \middle| \hat{A} \middle| i \right\rangle = \left\langle i \middle| \hat{A} \middle| i \right\rangle^{\ast}$。选择下标为$i$的函数作为$\hat{A}$的本征函数，使用本征方程$\hat{A} g_i = a_i g_i$，我们有$\left\langle i \middle| a_i \middle| i \right\rangle = \left\langle i \middle| a_i \middle| i \right\rangle^{\ast}$。因此，$a_i \left\langle i \middle| i \right\rangle = a_i^{\ast} \left\langle i \middle| i \right\rangle^{\ast} = a_i^{\ast}\left\langle i \middle| i \right\rangle$，则$\left(a_i - a_i^{\ast}\right)\left\langle i \middle| i \right\rangle = 0$。所以$a_i = a_i^{\ast}$，其中我们用到了(\ref{eq:7.4})中$m=n$。

    我们已经证明：两个不同的箱中粒子能量本征函数$\psi_i$和$\psi_j$是正交的，也就是说对$i \neq j$，有$\int_{-\infty}^{\infty}\psi_i^{\ast}\psi_j \mathrm{d}x = 0$[式(\ref{eq:2.26 definition of orthogonal wave functions})]。若两个坐标相同的函数$f_1$和$f_2$满足下式。则它们是\textbf{正交的}（orthogonal）：
    \begin{equation}
        \boxed{
            \int f_1^{\ast} f_2 \:\mathrm{d}\tau = 0
        }
        \label{eq:7.20}
    \end{equation}
    其中的积分是对坐标的全空间进行定积分。我们现在证明更一般的结论：\textit{厄米算符的本征函数是或可以被选择为相互正交的。}有
    \begin{equation}
        \hat{B}F = sF, \quad \hat{B}G = tG
        \label{eq:7.21}
    \end{equation}
    其中$F$和$G$是厄米算符$\hat{B}$的两个线性无关的本征函数，我们希望证明
    \begin{equation*}
        \int F^{\ast} G \:\mathrm{d}\tau \equiv \left\langle F \middle| G \right\rangle = 0
    \end{equation*}
    我们从 (\ref{eq:7.12}) 开始，它表达了 $\hat{B}$ 的厄米性质：
    \begin{equation*}
        \left\langle F \middle| \hat{B} \middle| G \right\rangle = \left\langle G \middle| \hat{B} \middle| F \right\rangle^{\ast}
    \end{equation*}
    使用式(\ref{eq:7.21})，我们有
    \begin{equation*}
        \left\langle F \middle| t \middle| G \right\rangle = \left\langle G \middle| s \middle| F \right\rangle^{\ast}
    \end{equation*}
    \begin{equation*}
        t \left\langle F \middle| G \right\rangle = s^{\ast} \left\langle G \middle| F \right\rangle
    \end{equation*}
    由于厄米算符的本征值为实数（定理1），我们有$s^{\ast} = s$。使用$\left\langle G \middle| F \right\rangle = \left\langle F \middle| G \right\rangle^{\ast}$（式(\ref{eq:7.4})），我们得到
    \begin{equation*}
        t \left\langle F \middle| G \right\rangle = s \left\langle F \middle| G \right\rangle
    \end{equation*}
    \begin{equation*}
        \left(t - s\right) \left\langle F \middle| G \right\rangle = 0
    \end{equation*}
    若$s \neq t$，则
    \begin{equation}
        \left\langle F \middle| G \right\rangle = 0
        \label{eq:7.22}
    \end{equation}

    我们已经证明，对应于\textit{不同}本征值的厄米算符的两个本征函数是正交的。现在的问题是：我们能否有两个具有\textit{相同}本征值的独立本征函数？答案是肯定的。在\textit{简并}的情况下，我们有一个以上的本征函数有相同的本征值。因此，只有当厄米算符的两个独立本征函数不对应于一个简并本征值时，我们才能确定它们是正交的。现在我们要证明，在简并的情况下，我们可以\textit{构造}出彼此正交的本征函数。我们将使用第 \ref{sec:3.6 Degeneracy} 节中证明的定理，即任何与简并本征值对应的本征函数线性组合都是具有相同本征值的本征函数。因此，让我们假设 $F$ 和 $G$ 是具有相同本征值的独立本征函数：
    \begin{equation*}
        \hat{B}F = sF, \quad \hat{B}G = sG
    \end{equation*}
    我们对 $F$ 和 $G$ 进行线性组合，形成两个新的本征函数 $g_1$ 和 $g_2$，它们将相互正交。我们选择
    \begin{equation*}
        g_1 \equiv F, \quad g_2 \equiv G + cF
    \end{equation*}
    其中常数 $c$ 的选择是为了确保正交性。我们希望
    \begin{equation*}
        \int g_1^{\ast} g_2 \:\mathrm{d}\tau = 0
    \end{equation*}
    \begin{equation*}
        \int F^{\ast} \left(G + cF\right) \:\mathrm{d}\tau = \int F^{\ast} G \:\mathrm{d}\tau + c \int F^{\ast} F \:\mathrm{d}\tau = 0
    \end{equation*}
    因此，我们选择
    \begin{equation}
        c = -\int F^{\ast} G \:\mathrm{d}\tau \Big/ \int F^{\ast} F \:\mathrm{d}\tau
        \label{eq:7.23}
    \end{equation}
    我们有两个与简并本征值相对应的正交本征函数 $g_1$ 和 $g_2$。这个过程[称为\textbf{施密特正交化或格拉姆-施密特正交化}（Schmidt orthogonalization or Gram-Schmidt orthogonalization）]可以推广到$n$重简并的情况，从而得到与简并本征值相对应的$n$个线性无关的正交本征函数。

    因此，虽然不能保证简并本征值的本征函数是正交的，但如果我们愿意，总是可以通过施密特（或其他）正交化方法来选择它们是正交的。事实上，除非另有说明，我们将始终假定本征函数是正交的：
    \begin{equation}
        \int g_i^{\ast} g_k \:\mathrm{d}\tau = 0, \quad i \neq k
        \label{eq:7.24}
    \end{equation}
    其中$g_i$和$g_k$是厄米算符的独立本征函数。我们证明了：
    \begin{center}
        \parbox{0.8\textwidth}{
            \centering \textbf{定理2：} 厄米算符 $\hat{B}$ 的两个对应不同本征值的本征函数是正交的。属于简并本征值的 $\hat{B}$ 的本征函数总是可以选择为正交的。
        }
    \end{center}

    本征函数通常可以乘以一个常数来归一化，除非另有说明，我们将假定所有本征函数都归一化了：
    \begin{equation}
        \int g_i^{\ast} g_i \:\mathrm{d}\tau = 1
        \label{eq:7.25}
    \end{equation}
    例外情况是本征值形成一个连续体，而不是一组离散的值。在这种情况下，本征函数不满足平方可积性。例子有动量本征函数、自由粒子能量本征函数和氢原子连续能量本征函数。

    使用Kronecker三角，定义为$\delta_{jk} \equiv 1$当$j=k$时，$\delta_{jk} \equiv 0$当$j \neq k$[式(\ref{eq:2.28 definition of kronecker delta})]，我们可以将(\ref{eq:7.24})和(\ref{eq:7.25})组合成一个方程：
    \begin{equation}
        \int g_i^{\ast}g_k \: \mathrm{d}\tau = \left\langle i \middle| k \right\rangle = \delta_{ik}
        \label{eq:7.26}
    \end{equation}
    其中$g_i$和$g_k$是某厄米算符的本征函数。

    例如，考虑球谐函数。我们希望证明
    \begin{equation}
        \int_{0}^{2\pi}\int_{0}^{\pi}\left[Y_l^m\left(\theta,\phi\right)\right]^{\ast}Y_{l'}^{m'}\left(\theta,\phi\right)\sin\theta \:\mathrm{d}\theta \:\mathrm{d}\phi = \delta_{l,l'}\delta_{m,m'}
        \label{eq:7.27}
    \end{equation}
    其中 $\theta$ 因子来自球面坐标中的体积元素，(\ref{eq:5.78}) 。球谐函数是厄米算符$\hat{L}^2$的本征函数[式(\ref{eq:5.104})]。由于属于不同本征值的厄米算符的本征函数是正交的，我们得出：除非$l = l'$，否则(\ref{eq:7.27})中的积分为零。同样地，由于$Y_l^m$系列函数是$\hat{L}_z$的本征函数[式(\ref{eq:5.105})]，因此除非$m = m'$，否则(\ref{eq:7.27})中的积分为零。此外，$Y_l^m$中的乘常数[问题5.34的式(5.147)]可以选择使得球谐函数得到归一化[式(\ref{eq:6.117})]。因此，(\ref{eq:7.27})成立。

    若$f$或$g$是某厄米算符的本征函数，则积分$\left\langle f \middle| \hat{B} \middle| g \right\rangle$可以得到简化。若$\hat{B}g = c g$，其中$c$是常数，则
    \begin{equation*}
        \left\langle f \middle| \hat{B} \middle| g \right\rangle = \left\langle f \middle| \hat{B}g \right\rangle = \left\langle f \middle| c g \right\rangle = c \left\langle f \middle| g \right\rangle
    \end{equation*}
    若$\hat{B}f = kf$，其中$k$是常数，那么利用 $\hat{B}$ 的厄米特性就可以得到
    \begin{equation*}
        \left\langle f \middle| \hat{B} \middle| g \right\rangle = \left\langle g \middle| \hat{B} \middle| f \right\rangle^{\ast} = \left\langle g \middle| \hat{B}f \right\rangle^{\ast} = \left\langle g \middle| kf \right\rangle^{\ast} = k^{\ast} \left\langle g \middle| f \right\rangle^{\ast} = k\left\langle f \middle| g \right\rangle
    \end{equation*}
    其中用到了本征值$k$是实数。关系$\left\langle f \middle| \hat{B} \middle| g \right\rangle = k \left\langle f \middle| g \right\rangle$表明厄米算符$\hat{B}$可以在$\left\langle f \middle| \hat{B} \middle| g \right\rangle$向左作用。

    不确定性原理的证明见问题7.60。

\section{用本征函数展开}
\label{sec:7.3 Expansion in Terms of Eigenfunctions}
    在上一节中，我们证明了厄米算符本征函数的正交性。现在我们讨论这些函数的另一个重要性质；这一性质使我们可以用这些本征函数来展开一个任意的品优函数。

    我们使用了Taylor级数展开（问题4.1）来将函数表示为$\left(x-a\right)$的非负整数幂的线性组合。除了$1,\left(x-a\right),\left(x-a\right)^2,\ldots$以外，我们还能将函数展开为其他函数集的线性组合吗？答案是肯定的，正如傅里叶（Fourier）在1807年所发现的那样。Fourier级数是将一个函数展开为无数个正弦和余弦函数的线性组合。我们将不再详细介绍Fourier级数，而只是举例说明。

\subsection*{使用箱中粒子的波函数展开函数}

    让我们考虑用箱中粒子的定态波函数来展开一个函数，即[式 (\ref{eq:2.23 stationary state wave function for the particle in a box}) ]
    \begin{equation}
        \psi_n = \left(\frac{2}{l}\right)^{1/2} \sin\left(\frac{n\pi x}{l}\right), \quad n = 1,2,3,\ldots
        \label{eq:7.28}
    \end{equation}
    其中$x$介于$0$和$l$之间。用如下形式的级数表示区间$0 \leq x \leq l$内的任意函数$f\left(x\right)$的可能性有多大？
    \begin{equation}
        f\left(x\right) = \sum_{n=1}^{\infty} a_n\psi_n = \left(\frac{2}{l}\right)^{1/2} \sum_{n=1}^{\infty} a_n \sin\left(\frac{n\pi x}{l}\right), \quad 0 \leq x \leq l
        \label{eq:7.29}
    \end{equation}
    其中$a_n$等为常数。将$x=0$和$x=l$代入(\ref{eq:7.29})，我们得到限制条件$f\left(0\right)=0$和$f\left(l\right)=0$。也就是说，$f\left(x\right)$必须满足和$\psi_n$相同的边界条件。我们同样假设$f\left(x\right)$的有限、单值以及连续，但不一定可导。根据上述假设，可以证明展开式 (\ref{eq:7.29}) 是成立的。我们将不证明 (\ref{eq:7.29})，而只是说明它在表示函数时的用法。

    在我们对某一特定函数$f\left(x\right)$应用式(\ref{eq:7.29})之前，我们必须推导出展开系数$a_n$的表达式。我们先将(\ref{eq:7.29})两边乘以$\psi_m^{\ast}$：
    \begin{equation}
        \psi_m^{\ast} f\left(x\right) = \sum_{n=1}^{\infty} a_n \psi_m^{\ast} \psi_n = \left(\frac{2}{l}\right) \sum_{n=1}^{\infty} a_n \sin\left(\frac{n\pi x}{l}\right) \sin\left(\frac{m\pi x}{l}\right)
        \label{eq:7.30}
    \end{equation}
    现在我们将该方程从$0$到$l$进行积分。假设将积分和无限求和互换是成立的，我们可以得出
    \begin{equation*}
        \int_{0}^{l} \psi_m^{\ast} f\left(x\right) \: \mathrm{d}x = \sum_{n=1}^{\infty} a_n \int_{0}^{l} \psi_m^{\ast} \psi_n \: \mathrm{d}x = \sum_{n=1}^{\infty} a_n \left(\frac{2}{l}\right) \int_{0}^{l} \sin\left(\frac{n\pi x}{l}\right) \sin\left(\frac{m\pi x}{l}\right) \: \mathrm{d}x
    \end{equation*}
    我们已经证明了箱中粒子波函数的正交性[式(\ref{eq:2.27 orthogonal with kronecker delta})]。因此，最后一个方程变为
    \begin{equation}
        \int_{0}^{l} \psi_m^{\ast} f\left(x\right) \: \mathrm{d}x = \sum_{n=1}^{\infty} a_n \delta_{mn}
        \label{eq:7.31}
    \end{equation}
    (\ref{eq:7.31}) 中的求和方式经常出现。将其展开，我们得到
    \begin{equation*}
        \begin{aligned}
            \sum_{n=1}^{\infty}a_n \delta_{mn} &= a_1 \delta_{m,1} + a_2 \delta_{m,2} + \ldots + a_{m-1} \delta_{m,m-1} + a_m \delta_{m,m} + a_{m+1} \delta_{m,m+1} + \ldots \\
            &= 0 + 0 + \ldots + a_m + 0 + \ldots
        \end{aligned}
    \end{equation*}
    \begin{equation}
        \sum_{n=1}^{\infty} a_n \delta_{mn} = a_m
        \label{eq:7.32}
    \end{equation}
    因此，除了$n=m$的项以外，$\delta_{mn}$都为零，那么只有一项是保留的，其他项都消失，式(\ref{eq:7.31})变为
    \begin{equation}
        a_m = \int_{0}^{l} \psi_m^{\ast} f\left(x\right) \: \mathrm{d}x
        \label{eq:7.33}
    \end{equation}
    这正是希望的系数表达式。
    \begin{figure}[h!]
        \centering
        \includegraphics[width=0.6\textwidth]{figures/7.1.png}
        \caption{按箱中粒子函数展开的函数。}
        \label{fig:7.1}
    \end{figure}

    在(\ref{eq:7.33})中将$m$替换为$n$并带入到(\ref{eq:7.29})中，我们得到
    \begin{equation}
        f\left(x\right) = \sum_{n=1}^{\infty} \left[\int_{0}^{l} \psi_n^{\ast} f\left(x\right) \: \mathrm{d}x\right] \psi_n\left(x\right)
        \label{eq:7.34}
    \end{equation}
    这是任意函数 $f\left(x\right)$ 作为箱中粒子波函数 $\psi_n$ 的线性组合的展开所需的表达式。注意：定积分$\int_{0}^{l} \psi_n^{\ast} f\left(x\right) \: \mathrm{d}x$ 是一个数，而不是一个关于$x$的函数。

    我们现在使用(\ref{eq:7.29})来代表一个特定的函数，图(\ref{fig:7.1})所示的函数由下式定义：
    \begin{equation}
        \begin{cases}
            f\left(x\right) = 0, & 0 \leq x < \frac{l}{2} \\
            f\left(x\right) = 1, & \frac{l}{2} \leq x < l
        \end{cases}
        \label{eq:7.35}
    \end{equation}
    为了找到展开系数$a_n$，我们将(\ref{eq:7.35})和(\ref{eq:7.28})代入(\ref{eq:7.33})中：
    \begin{equation*}
        \begin{aligned}
            a_n &= \int_{0}^{l} \psi_n^{\ast} f\left(x\right) \: \mathrm{d}x = \left(\frac{2}{l}\right)^{1/2} \int_{0}^{l} \sin\left(\frac{n\pi x}{l}\right) f\left(x\right) \: \mathrm{d}x \\
            a_n &= \left(\frac{2}{l}\right)^{1/2} \int_{0}^{l/2} x\sin\left(\frac{n\pi x}{l}\right) \: \mathrm{d}x + \left(\frac{2}{l}\right)^{1/2} \int_{l/2}^{l} \left(l-x\right)\sin\left(\frac{n\pi x}{l}\right) \: \mathrm{d}x
        \end{aligned}
    \end{equation*}
    使用附录中的积分A.1，我们得到
    \begin{equation}
        a_n = \frac{\left(2l\right)^{3/2}}{n^2\pi^2}\sin\left(\frac{n\pi}{2}\right)
        \label{eq:7.36}
    \end{equation}
    将(\ref{eq:7.36})代入(\ref{eq:7.29})，我们得到[由于$\sin\left(n\pi/2\right)$在$n$为奇数时为1或-1，在$n$为偶数时为0]：
    \begin{equation*}
        f\left(x\right) = \frac{4l}{\pi^2}\left[\sin\left(\frac{\pi x}{l}\right) - \frac{1}{3^2}\sin\left(\frac{3\pi x}{l}\right) + \frac{1}{5^2}\sin\left(\frac{5\pi x}{l}\right) - \cdots\right]
    \end{equation*}
    \begin{equation}
        f\left(x\right) = \frac{4l}{\pi^2}\sum_{n=1}^{\infty}\left(-1\right)^{n+1}\frac{1}{\left(2n-1\right)^2}\sin\left[\left(2n-1\right)\frac{\pi x}{l}\right]
        \label{eq:7.37}
    \end{equation}
    其中$f\left(x\right)$由(\ref{eq:7.35})给出。让我们检查$x = \frac{1}{2}l$时(\ref{eq:7.37})的值：
    \begin{equation}
        f\left(\frac{l}{2}\right) = \frac{4l}{\pi^2}\left(1+\frac{1}{3^2}+\frac{1}{5^2}+\frac{1}{7^2}+\cdots\right)
        \label{eq:7.38}
    \end{equation}
    将 (\ref{eq:7.38}) 的右边作为我们在无穷级数中所取项数的函数列表，我们可以得到
    \begin{table}[h!]
        \centering
        \begin{tabular}{c|c|c|c|c|c|c|c}
            项数 & 1 & 2 & 3 & 4 & 5 & 20 & 100 \\
            \hline
            式(\ref{eq:7.38})的右侧 & $0.405l$ & $0.450l$ & $0.467l$ & $0.475l$ & $0.480l$ & $0.495l$ & $0.499l$
        \end{tabular}
    \end{table}
    \begin{figure}[h!]
        \centering
        \includegraphics[width=0.6\textwidth]{figures/7.2.png}
        \caption{
            \centering
            \parbox{\linewidth}{
                \centering
                图 \ref{fig:7.1} 中以粒子箱中波函数展开的函数，展开式分别\\
                取 1 项和 5 项时，(a) 误差和(b) 百分比误差图。
            }
        }
        \label{fig:7.2}
    \end{figure}

    \noindent 如果我们取无穷多项，那么级数的和应为$\frac{1}{2}l$，与$f\left(\frac{l}{2}\right)$的值一致。假设级数成立，我们会得到一个有趣的结果，即(\ref{eq:7.38})中右侧括号的求和等于$\pi^2/8$。图7.2显示了$f\left(x\right) - \sum_{n-1}^{k}a_n\psi_n$的图形[其中$f$、$a_n$和$\psi_n$的定义见(\ref{eq:7.35})、(\ref{eq:7.36})和(\ref{eq:7.28})]，其中$k$是取的项数，分别为1和5。随着 $k$（即展开式中的项数）的增加，级数逐渐趋近于 $f\left(x\right)$，而 $f$ 与级数之间的差值逐渐趋于零。

\subsection*{用本征函数展开函数}

     我们已经看到了用一组函数——箱中粒子能量本征函数——来展开一个函数的例子。我们可以使用许多不同的函数集来展开任意函数。如果每个品优函数 $f$ 都服从与 $g_i$ 函数相同的边界条件，并且可以根据以下条件展开为 $g_i$ 的线性组合，则称函数集 $g_1,g_2,\ldots,g_i,\ldots$ 为\textbf{完全集}（complete set）：
    \begin{equation}
        f = \sum_{i}a_i g_i
        \label{eq:7.39}
    \end{equation}
    其中 $a_i$ 是常数。当然，我们很容易理解$f$和$g_i$都是同一组自变量的函数。(\ref{eq:7.39}) 中的和省略了极限。不言而喻，这个和包含了完整集合的所有成员。根据Fourier分析定理（我们尚未证明），可以证明粒子箱中的能量本征函数是一个完全集。

    我们现在假设：\textit{表示物理量的每个厄米算符的本征函数集是一个完全集。}（本征函数的完备性在很多情况下都可以证明，但在一般情况下必须假设。）因此，每个满足与本征函数集合相同边界条件的品优函数都可以根据 (\ref{eq:7.39}) 展开。方程 (\ref{eq:7.29}) 就是 (\ref{eq:7.39}) 的一个例子。

    谐振子波函数由厄米多项式$H_v$乘以一个指数因子给出[问题4.21c的式(4.86)]。根据展开公设，任何品优函数 $f\left(x\right)$ 都可以展开为谐振子能量本征函数的线性组合：
    \begin{equation*}
        f\left(x\right) = \sum_{n=0}^{\infty}a_n\left(2^nn!\right)^{-1/2}\left(\alpha/\pi\right)^{1/4}H_n\left(\alpha^{1/2}x\right)\mathrm{e}^{-\alpha x^2/2}
    \end{equation*}

    使用氢原子束缚态波函数来展开任意函数 $f\left(r,\theta,\phi\right)$如何？答案是这些函数并\textit{不}构成一个完全集，我们无法用它们来展开 $f$。要有一个完全集，我们必须使用特定厄米算符的\textit{所有}本征函数。除了氢原子哈密顿的束缚态本征函数外，我们还有与电离态相对应的连续态本征函数。如果将连续本征函数与束缚态本征函数一起包含在内，那么我们就得到了一个完全集。（对于箱中粒子和谐振子来说，连续函数不存在。）等式 (\ref{eq:7.39}) 意味着对连续本征函数（如果有的话）进行积分。因此，若$\psi_{nlm}\left(r,\theta,\phi\right)$是氢原子束缚态函数，$\psi_{Elm}\left(r,\theta,\phi\right)$是连续本征函数，则式(\ref{eq:7.39})变为
    \begin{equation*}
        f\left(r,\theta,\phi\right) = \sum_{n=1}^{\infty}\sum_{l=0}^{n-1}\sum_{m=-l}^{l}a_{nlm}\psi_{nlm}\left(r,\theta,\phi\right) + \sum_{l=0}^{\infty}\sum_{m=-l}^{l}\int_{0}^{\infty} a_{lm}\left(E\right) \psi_{Elm}\left(r,\theta,\phi\right) \:\mathrm{d}E
    \end{equation*}

    另一个例子：考虑算符$\hat{p}_x$的本征函数[式(\ref{eq:3.36})]：
    \begin{equation*}
        g_k = \mathrm{e}^{\mathrm{i}kx/\hbar}, \quad -\infty < k < \infty
    \end{equation*}
    这里的本征值都是连续的，任意函数 $f$ 的本征函数展开式（\ref{eq:7.39}）变为
    \begin{equation*}
        f\left(x\right) = \int_{-\infty}^{\infty} a\left(k\right) \mathrm{e}^{\mathrm{i}kx/\hbar} \:\mathrm{d}k
    \end{equation*}
    具有良好数学基础的读者可能会发现，这个积分几乎就是 $a\left(k\right)$ 的Fourier变换。

    让我们对$f=\sum_{i}a_ig_i$ [式 (\ref{eq:7.39}) ] 中的展开系数进行计算，其中的 $g_i$ 函数是厄米算符的本征函数的完全集。这一过程与推导 (\ref{eq:7.33}) 所用的过程相同。我们将$f = \sum_{i}a_ig_i$与$g_k^{\ast}$相乘并对全空间积分：
    \begin{equation*}
        g_k^{\ast} f = \sum_{i} a_i g_k^{\ast} g_i
    \end{equation*}
    \begin{equation*}
        \int g_k^{\ast} f \:\mathrm{d}\tau = \sum_{i} a_i \int g_k^{\ast} g_i \:\mathrm{d}\tau = \sum_{i} a_i \delta_{ik} = a_k
    \end{equation*}
    \begin{equation}
        a_k = \int g_k^{\ast} f \:\mathrm{d}\tau
        \label{eq:7.40}
    \end{equation}
    其中我们用到了厄米算符本征函数之间的正交性：$\int g_k^{\ast} g_i \:\mathrm{d}\tau = \delta_{ik}$ [式 (\ref{eq:7.26}) ]。得出（\ref{eq:7.40}）的过程会经常用到，值得记住。将(\ref{eq:7.40})中的$a_i$带入$f = \sum_{i}a_ig_i$中，我们得到
    \begin{equation}
        f = \sum_{i}\left[\int g_i^{\ast}f \:\mathrm{d}\tau\right]g_i = \sum_{i}\left\langle g_i \middle| f \right\rangle g_i
        \label{eq:7.41}
    \end{equation}

    \begin{examplebox}
        \textbf{例题：}令
        \begin{equation*}
            F\left(x\right) = \begin{cases}
                x\left(l-x\right), & 0 \leq x \leq l \\
                0, & \text{elsewhere}
            \end{cases}
        \end{equation*}
        将$F$用箱中粒子能量本征函数$\psi_n = \left(2/l\right)^{1/2}\sin\left(n\pi x/l\right), \: 0 \leq x \leq l$展开。
        \\
        
        注意到$F\left(0\right) = 0$以及$F\left(l\right) = 0$，因此满足与$\psi_n$相同的边界条件。我们可以使用$\psi_n$来展开$F$。展开式为$F = \sum_{n=1}^{\infty} a_n \psi_n$，其中系数$a_n = \int\psi_n^{\ast} F \:\mathrm{d}x$[式(\ref{eq:7.40})和(\ref{eq:7.39})]。因此，
        \begin{equation*}
            a_n = \int \psi_{n}^{\ast}F \:\mathrm{d}\tau = \left(\frac{2}{l}\right)^{1/2} \int_{0}^{l} \left(\sin\frac{n\pi x}{l}\right) x\left(l-x\right) \:\mathrm{d}x = \frac{2^{3/2}l^{5/2}}{n^3\pi^3}\left[1-\left(-1\right)^n\right]
        \end{equation*}
        其中积分计算的具体细节留作习题（问题7.18）。展开式$F = \sum_{n=1}^{\infty} a_n \psi_n$为
        \begin{equation*}
            x\left(l-x\right) = \frac{4l^2}{\pi^3}\sum_{n=1}^{\infty} \frac{1-\left(-1\right)^n}{n^3}\sin\left(\frac{n\pi x}{l}\right), \quad 0 \leq x \leq l
        \end{equation*}
        \\

        \textbf{练习：}令
        \begin{equation*}
            G\left(x\right) = \begin{cases}
                1, & 0 \leq x \leq l \\
                0, & \text{elsewhere}
            \end{cases}
        \end{equation*}
        将$G$用箱中粒子能量本征函数展开。由于 $G$ 在 原点和 $l$ 点不为零，因此展开式在这些点上不表示 $G$，而在其他地方表示 $G$。利用展开式的前 7 项非零项计算 $G$ 在$x = \frac{1}{4}l$处的值。使用前 70 个非零项重复上述步骤（使用可编程计算器）。（\textit{答案：}0.1219，0.9977.）
    \end{examplebox}

    以下是一条有用的定理：
    \begin{center}
        \parbox{0.8\textwidth}{
            \centering
            \textbf{定理3：}令$g_1,g_2,\ldots$是厄米算符$\hat{A}$的本征函数完全集，令$F$是$\hat{A}$的本征函数，本征值为$k$（也就是说，$\hat{A}F = kF$）。若$F$展开为$F = \sum_{i}a_ig_i$，则展开式中的非零系数$a_i$仅对应于与$k$相同的本征值的本征函数$g_i$。（由于简并的存在，可能有多个本征函数$g_i$对应于同一本征值$k$。）
            
        }
    \end{center}

    因此，在 $F$ 的展开式中，我们只包括那些与 $F$ 具有相同本征值的本征函数。根据 $a_k = \int g_k^{\ast} f \:\mathrm{d}\tau$[公式 (\ref{eq:7.40}) ] 即可得出定理 3 的证明；若$F$和$g_i$对应于同一厄米算符$\hat{A}$的不同本征值，那它们是正交的[式(\ref{eq:7.22})]，则$a_k$消失。

    我们偶尔会使用一种符号（称为 \textbf{ket} 符号），在这种符号中，函数 $f$ 用以下符号表示$\left| f \right\rangle$。这个符号似乎没有任何意义，但在量子力学的高级公式中，它具有特殊的意义。在ket符号中，式(\ref{eq:7.41})可以写成
    \begin{equation}
        \left| f \right\rangle = \sum_{i} \left| g_i\right\rangle \left\langle g_i \middle| f \right\rangle = \sum_i \left| i \right\rangle \left\langle i \middle| f \right\rangle
        \label{eq:7.42}
    \end{equation}
    Ket 符号方便地用于通过列出本征值来指定本征函数。例如，量子数分别为$n$、$l$和$m$的氢原子波函数可以写成$\psi_{nlm} = \left| n,l,m \right\rangle$。

    第\ref{sec:7.2 Hermitian Operators}和\ref{sec:7.3 Expansion in Terms of Eigenfunctions}节的内容可以总结为\textit{厄米算符的本征函数构成一个完整的正交集合，且本征值为实数。}

\section{对易算符的本征函数}
\label{sec:7.4 Eigenfunctions of Commuting Operators}
    如果态函数$\Psi$同时是两个算符$\hat{A}$和$\hat{B}$的本征函数，本征值分别为$a_j$和$b_j$，那么对物理量$A$的观测将得到值为$a_j$的结果，对物理量$B$的观测将得到值为$b_j$的结果。因此，当$\Psi$同时是$\hat{A}$和$\hat{B}$的本征函数时，物理量$A$和$B$都具有确定的值。

    在第 \ref{sec:5.1 Simultaneous Specification of Several Properties} 节中，我们对两个算符的同时本征函数做了一些说明。现在我们证明这些陈述。

    首先，我们证明：如果存在两个线性算符本征函数的共同\textit{完全集}，那么这两个算符可对易。令$\hat{A}$和$\hat{B}$是两个线性算符，$g_1,g_2,\ldots$是共同的本征函数完全集：
    \begin{equation}
        \hat{A}g_i = a_ig_i, \quad \hat{B}g_i = b_ig_i
        \label{eq:7.43}
    \end{equation}
    其中$a_i$和$b_i$是本征值。我们需要证明
    \begin{equation}
        \left[\hat{A},\hat{B}\right] = 0
        \label{eq:7.44}
    \end{equation}
    方程(\ref{eq:7.44})是算符方程。要使两个算符相等，则用其中任何一个算符对任意品优函数 $f$ 运算的结果必须相同。因此我们必须证明
    \begin{equation*}
        \left(\hat{A}\hat{B} - \hat{B}\hat{A}\right)f = \hat{0}f = 0
    \end{equation*}
    其中$f$是任意函数。首先，我们根据完整的本征函数集$g_i$对 $f$ 进行展开（假设它遵守适当的边界条件）：
    \begin{equation*}
        f = \sum_{i}c_i g_i
    \end{equation*}
    将算符$\hat{A}\hat{B}-\hat{B}\hat{A}$作用于上述方程，我们得到
    \begin{equation*}
        \left(\hat{A}\hat{B} - \hat{B}\hat{A}\right)f = \left(\hat{A}\hat{B} - \hat{B}\hat{A}\right)\sum_{i}c_ig_i
    \end{equation*}
    由于算符的积$\hat{A}\hat{B}$和$\hat{B}\hat{A}$是线性算符（问题3.16），我们有
    \begin{equation*}
        \left(\hat{A}\hat{B}-\hat{B}\hat{A}\right)f = \sum_{i}c_i\left(\hat{A}\hat{B}-\hat{B}\hat{A}\right)g_i = \sum_{i}\left[\hat{A}\left(\hat{B}g_i\right) - \hat{B}\left(\hat{A}g_i\right)\right]
    \end{equation*}
    其中用到了算符和与积的定义。使用本征值方程(\ref{eq:7.43})，我们得到
    \begin{equation*}
        \left(\hat{A}\hat{B}-\hat{B}\hat{A}\right)f = \sum_{i}\left[\hat{A}\left(b_ig_i\right)- \hat{B}\left(a_ig_i\right)\right] = \sum_{i}c_i\left(b_ia_ig_i - a_ib_ig_i\right) = 0
    \end{equation*}
    这就完成了如下定理的证明：
    \begin{center}
        \parbox{0.8\textwidth}{
            \centering
            \textbf{定理4：}如果两个线性算符的本征函数完全集是相同的，那么这两个算符可对易。
        }
    \end{center}

    有时有人错误地认为：如果 $\hat{A}$ 和 $\hat{B}$ 存在一个共同的本征函数，那么它们就可对易。举一个例子可以说明这种说法是错误的，考虑球谐函数$Y_0^0$，它同时是$\hat{L}_z$和$\hat{L}_x$的本征函数，但显然这两个算符不可对易（第\ref{sec:5.3 Angular Momentum of a One-Particle System}节）。研究一下为这一错误说法提供的所谓证据是很有启发性的。令$g$为共同的本征函数：$\hat{A}g = ag$、$\hat{B}g = bg$。我们有
    \begin{equation*}
        \hat{A}\hat{B}g = \hat{A}bg = abg \quad \text{和} \quad \hat{B}\hat{A}g = \hat{B}ag = bag = abg
    \end{equation*}
    \begin{equation}
        \hat{A}\hat{B}g = \hat{B}\hat{A}g
        \label{eq:7.45}
    \end{equation}
    通过从式(\ref{eq:7.45})的两边消去$g$，我们完成了所谓的“证明”：
    \begin{equation}
        \hat{A}\hat{B} = \hat{B}\hat{A}\:(?)
        \label{eq:7.46}
    \end{equation}
    错误出现在从(\ref{eq:7.45})导出(\ref{eq:7.46})的过程中。$\hat{A}\hat{B}$和$\hat{B}\hat{A}$对单个函数$g$的作用结果是无法得出$\hat{A}\hat{B} = \hat{B}\hat{A}$的。（例如，当$\mathrm{d}/\mathrm{d}x$和$\mathrm{d}^2/\mathrm{d}x^2$作用于函数$\mathrm{e}^x$时，结果是相同的，但这并不意味着$\mathrm{d}/\mathrm{d}x$和$\mathrm{d}^2/\mathrm{d}x^2$是相等的。）这两个算符在作用于每个品优函数时必须得到相同的结果，我们才能得出它们相等的结论。因此，尽管$\hat{A}$和$\hat{B}$不可对易，但可能存在一个或更多的共同本征函数。然而，我们不可能有两个非对易算符的共同\textit{完整}本征函数集，正如我们在本节前面所证明的那样。

    我们已经证明了：若两个算符$\hat{A}$和$\hat{B}$的本征函数完全集是相同的，那么这两个算符可对易。现在我们证明：
    \begin{center}
        \parbox{0.8\textwidth}{
            \centering
            \textbf{定理5：}如果两个厄米算符$\hat{A}$和$\hat{B}$可对易，我们可以为它们选择一组共同的完整本征函数。
        }
    \end{center}

    证明如下。令$g_i$和$a_i$分别是算符$\hat{A}$的本征函数和本征值：
    \begin{equation*}
        \hat{A}g_i = a_ig_i
    \end{equation*}
    将$\hat{B}$作用于上述方程，我们得到
    \begin{equation*}
        \hat{B}\hat{A}g_i = \hat{B}\left(a_ig_i\right)
    \end{equation*}
    由于$\hat{A}$和$\hat{B}$可对易，以及$\hat{B}$是线性算符，我们有
    \begin{equation}
        \hat{A}\left(\hat{B}g_i\right) = a_i\left(\hat{B}g_i\right)
        \label{eq:7.47}
    \end{equation}
    该方程表明：函数$\hat{B}g_i$也是算符$\hat{A}$的本征函数，本征值为$a_i$，与$g_i$一致。假设算符$\hat{A}$的本征值都是非简并的，那么对于任何给定的本征值$a_i$，存在唯一的线性无关的本征函数。如果是这样，那么两个对应于同一个本征值的本征函数$\hat{B}g_i$和$g_i$是线性相关的，也就是说，其中一个一定是另一个的简单乘积：
    \begin{equation}
        \hat{B}g_i = k_ig_i
        \label{eq:7.48}
    \end{equation}
    其中$k_i$是常数。这个方程说明了$g_i$是$\hat{B}$的本征函数，因此得证。在第 \ref{sec:7.3 Expansion in Terms of Eigenfunctions} 节中，我们假设任何表示物理量的算符的本征函数都构成一个完全集。因此，$g_i$构成一个完全集。

    我们刚才证明了非简并情况下的定理，那么简并情况下呢？设本征值$a_i$是$n$重简并的。由式(\ref{eq:7.47})，$\hat{B}g_i$也是$\hat{A}$的本征函数，本征值为$a_i$。因此，第\ref{sec:7.3 Expansion in Terms of Eigenfunctions}节中的定理3表明：若函数$\hat{B}g_i$可以用算符$\hat{A}$的本征函数完全集展开，那么除了本征值为$a_i$的项以外，其他项的系数均为零。也就是说，$\hat{B}g_i$一定是$n$个本征值为$a_i$的线性无关本征函数的线性组合：
    \begin{equation}
        \hat{B}g_i = \sum_{k=1}^{n}c_kg_k, \quad \text{其中} \quad \hat{A}g_k = a_ig_k \quad k = 1,2,\ldots,n
        \label{eq:7.49}
    \end{equation}
    其中$g_1,\ldots,g_n$表示$n$个本征值为$a_i$的算符$\hat{A}$的本征函数。式(\ref{eq:7.49})表明$g_i$不一定是$\hat{B}$的本征函数。然而，通过对$n$个对应于简并本征值$a_i$的线性无关的$\hat{A}$本征函数进行适当的线性组合，我们能构造出一组新的$n$个线性无关的本征函数，他们也将是$\hat{B}$的本征函数。该说法的证明见\textit{Merzbacher}，第8.5节。

    因此，当$\hat{A}$和$\hat{B}$可对易时，我们可以为它们\textit{选择}一组共同的本征函数完全集。例如，考虑一个氢原子，我们已经证明了算符$\hat{L}_z$和$\hat{H}$是可对易的。如果我们愿意，我们可以将$\hat{B}$的本征函数中的$\phi$因子写成$\sin m\phi$和$\cos m\phi$的形式(第\ref{sec:6.6 The Bound-State Hydrogen-Atom Wave Functions}节)。如果这样做，除了 $m=0$ 的情况以外，我们就不会得到 $\hat{L}_z$ 的本征函数了。然而，根据\ref{sec:3.6 Degeneracy}节的定理，以下线性组合
    \begin{equation*}
        R\left(r\right)S\left(\theta\right)\left(\cos m\phi+\mathrm{i}\sin m\phi\right) = RS\mathrm{e}^{\mathrm{i}m\phi}, \quad m = -l,\ldots,l
    \end{equation*}
    给出的$\hat{L}_z$的本征函数仍然是$\hat{H}$的本征函数。

    将上述证明推广到两个以上算符的情况表明，当且仅当每个算符都与其他算符可对易时，对于一组厄米算符 $\hat{A},\hat{B},\hat{C},\ldots$，存在一个共同的完整本征函数集。

    与定理5相关的一个有用定理为：
    \begin{center}
        \centering
        \parbox{0.8\textwidth}{
            \textbf{定理6：}若$g_m$和$g_n$是厄米算符$\hat{A}$的本征函数，但其本征值不同（即$\hat{A}g_m = a_mg_m$和$\hat{A}g_n = a_ng_n$，其中$a_m \neq a_n$），若线性算符$\hat{B}$与$\hat{A}$可对易，那么
            \begin{equation}
                \left\langle g_n \middle| \hat{B} \middle| g_m \right\rangle = 0, \quad a_n \neq a_m
                \label{eq:7.50}
            \end{equation}
        }
    \end{center}

    为了证明(\ref{eq:7.50})，我们从以下式子入手：
    \begin{equation}
        \left\langle g_n \middle| \hat{A}\hat{B} \middle| g_m \right\rangle = \left\langle g_n \middle| \hat{B}\hat{A} \middle| g_m \right\rangle
        \label{eq:7.51}
    \end{equation}
    对上式的左侧使用算符$\hat{A}$的厄米性质，有
    \begin{equation*}
        \begin{aligned}
            \left\langle g_n \middle| \hat{A}\hat{B} \middle| g_m \right\rangle = \left\langle g_n \middle| \hat{A} \middle| \hat{B} g_m \right\rangle = \left\langle \hat{B}g_m \middle| \hat{A} \middle| g_n \right\rangle^{\ast} &= \left\langle \hat{B}g_m \middle| a_n \middle| g_n \right\rangle^{\ast} \\
            &= a_n^{\ast}\left\langle g_n \middle| \hat{B}g_m \right\rangle = a_n\left\langle g_n \middle| \hat{B} \middle| g_m \right\rangle
        \end{aligned}
    \end{equation*}
    式(\ref{eq:7.51})的右侧可以写成
    \begin{equation*}
        \left\langle g_n \middle| \hat{B}\hat{A} \middle| g_m \right\rangle = \left\langle g_n \middle| \hat{B} \middle| \hat{A}g_m \right\rangle = a_m\left\langle g_n \middle| \hat{B} \middle| g_m \right\rangle
    \end{equation*}
    令(\ref{eq:7.51}) 左右两边的最终表达式相等，我们得到
    \begin{equation*}
        a_n \left\langle g_n \middle| \hat{B} \middle| g_m \right\rangle = a_m\left\langle g_n \middle| \hat{B} \middle| g_m \right\rangle
    \end{equation*}
    \begin{equation*}
        \left(a_n - a_m\right)\left\langle g_n \middle| \hat{B} \middle| g_m \right\rangle = 0
    \end{equation*}
    由于$a_n \neq a_m$，因此$\left\langle g_n \middle| \hat{B} \middle| g_m \right\rangle = 0$，这就证明了(\ref{eq:7.50})。

\section{宇称}
\label{sec:7.5 Parity}













\section{测量和态叠加}
\label{sec:7.6 Measurement and the Superposition of States}

\section{坐标本征函数}
\label{sec:7.7 Position Eigenfunctions}

\section{量子力学的基本假设}
\label{sec:7.8 The Postulates of Quantum Mechanics}

\section{测量和量子力学解释}
\label{sec:7.9 Measurement and the Interpretation of Quantum Mechanics}

\section{矩阵}
\label{sec:7.10 Matrices}

\section*{总结}

\section*{习题}